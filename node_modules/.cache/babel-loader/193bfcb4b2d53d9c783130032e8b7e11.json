{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Pallavi\\\\Downloads\\\\CS648-Assignment13-main\\\\CS648-Assignment13-main\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Pallavi\\\\Downloads\\\\CS648-Assignment13-main\\\\CS648-Assignment13-main\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Pallavi\\\\Downloads\\\\CS648-Assignment13-main\\\\CS648-Assignment13-main\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Pallavi\\\\Downloads\\\\CS648-Assignment13-main\\\\CS648-Assignment13-main\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\Pallavi\\\\Downloads\\\\CS648-Assignment13-main\\\\CS648-Assignment13-main\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Pallavi\\\\Downloads\\\\CS648-Assignment13-main\\\\CS648-Assignment13-main\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import Filters from'./Filters';import ProductTable from'./ProductTable';import ProductForm from'./ProductForm';var PRODUCTS=[];var base=\"\";var Products=/*#__PURE__*/function(_Component){_inherits(Products,_Component);function Products(props){var _this;_classCallCheck(this,Products);_this=_possibleConstructorReturn(this,_getPrototypeOf(Products).call(this,props));_this.state={filterText:'',products:PRODUCTS,currProduct:null};_this.handleFilter=_this.handleFilter.bind(_assertThisInitialized(_this));_this.handleEdit=_this.handleEdit.bind(_assertThisInitialized(_this));_this.handleDestroy=_this.handleDestroy.bind(_assertThisInitialized(_this));_this.handleSave=_this.handleSave.bind(_assertThisInitialized(_this));return _this;}_createClass(Products,[{key:\"componentDidMount\",value:function componentDidMount(){this.getProducts();}},{key:\"getProducts\",value:function getProducts(){var _this2=this;fetch(base+\"/products/get\").then(function(res){return res.json();}).then(function(res){if(res.success===0)return alert(res.message);_this2.setState({products:res.data});});}},{key:\"handleFilter\",value:function handleFilter(filterInput){this.setState(filterInput);}},{key:\"handleSave\",value:function handleSave(product){var _this3=this;if(product.productid!=null){// Update Product\nfetch(base+\"/products/update/\"+product.productid,{body:JSON.stringify(product),method:\"POST\",headers:{'Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(res){if(res.success===0)return alert(res.message);_this3.getProducts();}).catch(function(err){return console.error(err);});}else{// Create Product\nfetch(base+\"/products/create\",{body:JSON.stringify(product),method:\"POST\",headers:{'Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(res){if(res.success===0)return alert(res.message);_this3.getProducts();}).catch(function(err){return console.error(err);});}}},{key:\"handleEdit\",value:function handleEdit(productId){var currProduct=this.state.products.find(function(p){return p.id===productId;});this.setState({currProduct:currProduct});}},{key:\"handleDestroy\",value:function handleDestroy(productId){var _this4=this;fetch(base+\"/products/delete/\"+productId).then(function(res){return res.json();}).then(function(res){if(res.success===0)return alert(res.message);_this4.getProducts();});}},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(\"h1\",null,\"My Inventory\"),React.createElement(Filters,{onFilter:this.handleFilter}),React.createElement(ProductTable,{products:this.state.products,filterText:this.state.filterText,onEdit:this.handleEdit,onDestroy:this.handleDestroy}),React.createElement(ProductForm,{key:JSON.stringify(this.state.currProduct),product:this.state.currProduct,onSave:this.handleSave}));}}]);return Products;}(Component);export default Products;","map":{"version":3,"sources":["C:/Users/Pallavi/Downloads/CS648-Assignment13-main/CS648-Assignment13-main/src/Products.js"],"names":["React","Component","Filters","ProductTable","ProductForm","PRODUCTS","base","Products","props","state","filterText","products","currProduct","handleFilter","bind","handleEdit","handleDestroy","handleSave","getProducts","fetch","then","res","json","success","alert","message","setState","data","filterInput","product","productid","body","JSON","stringify","method","headers","catch","err","console","error","productId","find","p","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Filters from './Filters'\nimport ProductTable from './ProductTable'\nimport ProductForm from './ProductForm'\n\nlet PRODUCTS = [];\n\nconst base = \"\";\n\nclass Products extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tfilterText: '',\n\t\t\tproducts: PRODUCTS,\n\t\t\tcurrProduct: null\n\t\t}\n\t\tthis.handleFilter = this.handleFilter.bind(this)\n\t\tthis.handleEdit = this.handleEdit.bind(this)\n\t\tthis.handleDestroy = this.handleDestroy.bind(this)\n\t\tthis.handleSave = this.handleSave.bind(this)\n\t}\n\n\tcomponentDidMount() { this.getProducts() }\n\n\tgetProducts() {\n\t\tfetch(base + \"/products/get\")\n\t\t\t.then((res) => res.json())\n\t\t\t.then((res) => {\n\t\t\t\tif (res.success === 0) return alert(res.message);\n\t\t\t\tthis.setState({ products: res.data })\n\t\t\t})\n\t}\n\n\thandleFilter(filterInput) {\n\t\tthis.setState(filterInput)\n\t}\n\n\thandleSave(product) {\n\t\tif (product.productid != null) {\n\t\t\t// Update Product\n\n\t\t\tfetch(base + \"/products/update/\" + product.productid, {\n\t\t\t\tbody: JSON.stringify(product),\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: { 'Content-Type': 'application/json' }\n\t\t\t})\n\t\t\t\t.then(res => res.json())\n\t\t\t\t.then((res) => {\n\t\t\t\t\tif (res.success === 0) return alert(res.message);\n\t\t\t\t\tthis.getProducts();\n\t\t\t\t})\n\t\t\t\t.catch(err => console.error(err))\n\t\t} else {\n\t\t\t// Create Product\n\n\t\t\tfetch(base + \"/products/create\", {\n\t\t\t\tbody: JSON.stringify(product),\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: { 'Content-Type': 'application/json' }\n\t\t\t})\n\t\t\t\t.then(res => res.json())\n\t\t\t\t.then((res) => {\n\t\t\t\t\tif (res.success === 0) return alert(res.message);\n\t\t\t\t\tthis.getProducts();\n\t\t\t\t})\n\t\t\t\t.catch(err => console.error(err))\n\t\t}\n\t}\n\n\thandleEdit(productId) {\n\t\tlet currProduct = this.state.products.find(p => p.id === productId);\n\t\tthis.setState({\n\t\t\tcurrProduct: currProduct\n\t\t})\n\t}\n\n\thandleDestroy(productId) {\n\t\tfetch(base + \"/products/delete/\" + productId)\n\t\t\t.then((res) => res.json())\n\t\t\t.then((res) => {\n\t\t\t\tif (res.success === 0) return alert(res.message);\n\t\t\t\tthis.getProducts();\n\t\t\t})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h1>My Inventory</h1>\n\t\t\t\t<Filters\n\t\t\t\t\tonFilter={this.handleFilter}></Filters>\n\t\t\t\t<ProductTable\n\t\t\t\t\tproducts={this.state.products}\n\t\t\t\t\tfilterText={this.state.filterText}\n\t\t\t\t\tonEdit={this.handleEdit}\n\t\t\t\t\tonDestroy={this.handleDestroy}></ProductTable>\n\t\t\t\t<ProductForm\n\t\t\t\t\tkey={JSON.stringify(this.state.currProduct)}\n\t\t\t\t\tproduct={this.state.currProduct}\n\t\t\t\t\tonSave={this.handleSave}></ProductForm>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Products"]},"metadata":{},"sourceType":"module"}